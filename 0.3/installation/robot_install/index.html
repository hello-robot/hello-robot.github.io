<!-- Elements added to "main.html" will be displayed on all pages -->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Hello Robot User Documentation">
      
      
        <meta name="author" content="Hello Robot Inc">
      
      
        <link rel="canonical" href="https://docs.hello-robot.com/0.3/installation/robot_install/">
      
      
        <link rel="prev" href="../ros_workspace/">
      
      
        <link rel="next" href="../../developing/basics/">
      
      
      <link rel="icon" href="../../images/hello_robot_favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Upgrading your Operating System - Stretch Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    <!-- main.html | Added "navigation.instant" support -->
    <link rel="canonical" href=".">

   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#upgrading-your-operating-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Stretch Docs" class="md-header__button md-logo" aria-label="Stretch Docs" data-md-component="logo">
      
  <img src="../../images/hello_robot_logo_light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stretch Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Upgrading your Operating System
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Stretch Docs" class="md-nav__button md-logo" aria-label="Stretch Docs" data-md-component="logo">
      
  <img src="../../images/hello_robot_logo_light.png" alt="logo">

    </a>
    Stretch Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/hello_robot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello Robot!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/connecting_to_stretch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to Stretch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/stretch_hardware_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stretch Hardware Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/writing_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/demos_mapping_and_navigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo 1 - Mapping & Navigation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/demos_web_teleop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo 2 - Web Teleop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/community_resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting help
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hardware Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Hardware Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/safety_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/hardware_guide_stretch_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stretch 3 Hardware Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/battery_maintenance_guide_se3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Battery Maintenance
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/distributions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/updating_software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating Software
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/changelogs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelogs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Installation Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../add_new_user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding a New User
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ros_workspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating your ROS Workspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Upgrading your Operating System
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Upgrading your Operating System
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plug-in-charger-attach-clip-clamp" class="md-nav__link">
    <span class="md-ellipsis">
      Plug in charger &amp; Attach clip-clamp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-up-robot-calibration-data" class="md-nav__link">
    <span class="md-ellipsis">
      Back up robot calibration data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-the-bios" class="md-nav__link">
    <span class="md-ellipsis">
      Setup the BIOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-robot-installation-script" class="md-nav__link">
    <span class="md-ellipsis">
      Run the robot installation script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-install-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Post install steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expecting-var-hello_fleet_id-to-be-undefined-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Expecting var HELLO_FLEET_ID to be undefined' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expecting-stretch-yyy-xxxx-to-be-present-in-the-home-folder-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Expecting stretch-yyy-xxxx to be present in the home folder' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repo-not-up-to-date-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Repo not up-to-date' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-to-fetch-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Failed to fetch' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dpkg-returned-an-error-code-error" class="md-nav__link">
    <span class="md-ellipsis">
      'dpkg returned an error code' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firmware-protocol-mismatch-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Firmware protocol mismatch' error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developing with Stretch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developing with Stretch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Basics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Python Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/moving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commanding Stretch to Move
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ROS 2 Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ROS 2 Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/robot_drivers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robot Drivers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Navigation with Nav2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Navigation with Nav2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/navigation_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/navigation_stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nav2 Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/navigation_simple_commander/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nav2 Simple Commander
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/hello-robot/stretch_ros2/tree/humble/stretch_funmap#overview" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FUNMAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/perception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filter Laser Scans
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collision Avoidance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rviz Markers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/remote_compute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offloading Computation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ArUco Locator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voice Teleop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voice Teleop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ros2/example_9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voice Teleop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extending Stretch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Extending Stretch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/changing_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changing Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/urdf_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URDF Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/extending_stretch_additional_hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending Stretch with Additional Hardware
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plug-in-charger-attach-clip-clamp" class="md-nav__link">
    <span class="md-ellipsis">
      Plug in charger &amp; Attach clip-clamp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-up-robot-calibration-data" class="md-nav__link">
    <span class="md-ellipsis">
      Back up robot calibration data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-the-bios" class="md-nav__link">
    <span class="md-ellipsis">
      Setup the BIOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Install Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-robot-installation-script" class="md-nav__link">
    <span class="md-ellipsis">
      Run the robot installation script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-install-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Post install steps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expecting-var-hello_fleet_id-to-be-undefined-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Expecting var HELLO_FLEET_ID to be undefined' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expecting-stretch-yyy-xxxx-to-be-present-in-the-home-folder-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Expecting stretch-yyy-xxxx to be present in the home folder' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repo-not-up-to-date-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Repo not up-to-date' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-to-fetch-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Failed to fetch' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dpkg-returned-an-error-code-error" class="md-nav__link">
    <span class="md-ellipsis">
      'dpkg returned an error code' error
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firmware-protocol-mismatch-error" class="md-nav__link">
    <span class="md-ellipsis">
      'Firmware protocol mismatch' error
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="upgrading-your-operating-system">Upgrading your Operating System<a class="headerlink" href="#upgrading-your-operating-system" title="Anchor link">&para;</a></h1>
<h2 id="why">Why<a class="headerlink" href="#why" title="Anchor link">&para;</a></h2>
<p>This guide will lead you through installing a new robot distribution, which can be used to:</p>
<ul>
<li>Upgrade Stretch by installing a newer software stack alongside the previous OS</li>
<li>Erase the previous OS and set up Stretch with an entirely fresh software stack</li>
<li>Erase a corrupted OS and set up Stretch with an entirely fresh software stack</li>
</ul>
<p>Each OS installs on a separate partition on the hard drive. You can create as many robot-level installs (i.e. new partitions) as will fit in your robot's hard drive.</p>
<p>The list of supported/deprecated distributions is available in the <a href="../../software/distributions/">Distributions &amp; Roadmap</a> guide.</p>
<h2 id="how">How<a class="headerlink" href="#how" title="Anchor link">&para;</a></h2>
<p>There are a few steps to performing a new robot install:</p>
<ol>
<li>Plug in charger &amp; Attach clip-clamp</li>
<li>Backup robot calibration data</li>
<li>Setup the BIOS (only necessary for NUCs not previously configured by Hello Robot)</li>
<li>Install Ubuntu</li>
<li>Run the new robot installation script</li>
<li>Post installation steps</li>
</ol>
<p>It typically takes ~2 hours to go through these steps. Before we get started, you'll need:</p>
<ul>
<li>1 Stretch robot</li>
<li>Keyboard, Mouse, and Monitor<ul>
<li>Bluetooth keyboards/mouses will not work because they are not recognized by the BIOS. Use a wired USB or wireless USB dongle keyboard/mouse.</li>
<li>Use a computer monitor instead of a TV. Some TVs have trouble displaying Ubuntu when rebooting.</li>
</ul>
</li>
<li>2 USB sticks<ul>
<li>The first flashdrive is used to backup robot calibration data and any other important files</li>
<li>The second flashdrive will contain the Ubuntu installer image. This flashdrive will need to be &gt;8gb in capacity.</li>
</ul>
</li>
<li>1 NOCO Genius 10 charger</li>
<li>1 Clip Clamp</li>
<li>
<p>A fast connection to the internet</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It's recommended that you use an Ethernet connection to the internet. You can use a slow Wifi connection if it's difficult to obtain a wired connection at your institution, but expect the install process to take longer because the scripts are downloading gigabytes of software/data to the robot.</p>
</div>
</li>
</ul>
<h3 id="plug-in-charger-attach-clip-clamp">Plug in charger &amp; Attach clip-clamp<a class="headerlink" href="#plug-in-charger-attach-clip-clamp" title="Anchor link">&para;</a></h3>
<p>Since a new robot install can take a few hours, it's important the robot remain on the charger throughout the install. Switch the charger into SUPPLY mode and plug the charger into the robot.</p>
<p><a class="glightbox" href="../images/clamp_lift.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="attach clip-clamp" loading="lazy" src="../images/clamp_lift.png" /></a></p>
<p>Next, attach the clip-clamp below the shoulder as shown. This allows the arm to rest on the clamp during the firmware portion of the install.</p>
<h3 id="back-up-robot-calibration-data">Back up robot calibration data<a class="headerlink" href="#back-up-robot-calibration-data" title="Anchor link">&para;</a></h3>
<p>It is a good idea to backup all valuable data beforehand. If your new robot install will replace a previous one, <strong>data from the previous robot install will be deleted.</strong> Even if your new robot install will live alongside the previous one(s), <strong>data from the previous robot install(s) can be lost.</strong></p>
<p>In particular, your new robot install will require the old install's robot calibration data. The steps to copy this material from an existing install is:</p>
<ol>
<li>Boot into the robot's original Ubuntu partition and plug in a USB key.</li>
<li>The robot calibration data lives inside of a directory called <code>stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code>, where <code>&lt;yyy&gt;</code> is your robot model number ("re1" for a Stretch RE1, "re2" for a Stretch 2, or "se3" for a Stretch 3), and <code>&lt;xxxx&gt;</code> is your robot's serial number. There's a few versions of this directory and you will need to decide which version to backup. Each Ubuntu user has a version of this directory located at <code>/home/$USER/stretch_user/stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code>. These user versions are updated when the user runs a URDF calibration, swaps out an end effector, updates Stretch parameters, and more. There's also a system version located at <code>/etc/hello-robot/stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code>, which is likely the oldest version since it was created at Hello Robot HQ. If you're not sure which version to backup, use the version at <code>/etc/hello-robot/stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code> for the next step.</li>
<li>Copy the <code>stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code> directory to a USB key.<ul>
<li>For example, if you're copying the system version, you can run a command similar to <code>cp -r /etc/hello-robot/stretch-&lt;yyy&gt;-&lt;xxxx&gt; /media/$USER/&lt;USBKEY&gt;</code> from the command line, where <code>&lt;USBKEY&gt;</code> and <code>&lt;xxxx&gt;</code> is replaced with the mounted USB key's name and the robot's serial number, respectively.</li>
<li>Or, you can open the file explorer to copy the directory.</li>
</ul>
</li>
</ol>
<p>If your previous partition is corrupted or inaccessible, contact Hello Robot support and they will be able to supply an older version of the <code>stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code> directory.</p>
<h3 id="setup-the-bios">Setup the BIOS<a class="headerlink" href="#setup-the-bios" title="Anchor link">&para;</a></h3>
<p>This step can be skipped if your robot had an existing software install on it. Otherwise, follow the <a href="../configure_BIOS/">guide to set up the BIOS</a>.</p>
<h3 id="install-ubuntu">Install Ubuntu<a class="headerlink" href="#install-ubuntu" title="Anchor link">&para;</a></h3>
<p>Choose between the following guides based on which version of Ubuntu you're installing (see the <a href="../../software/distributions/">Distributions &amp; Roadmap</a> guide for info on what software ships with each OS). Within these guides, you'll have the choice of whether to replace the previous OS partition or to install alongside it. If you choose to install alongside it, you'll also be able to choose the size of each partition on the hard drive.</p>
<ul>
<li><a href="../install_ubuntu_18.04/">Ubuntu 18.04 Installation guide</a></li>
<li><a href="../install_ubuntu_20.04/">Ubuntu 20.04 Installation guide</a></li>
<li><a href="../install_ubuntu_22.04/">Ubuntu 22.04 Installation guide</a></li>
</ul>
<p>After the Ubuntu install, the default <code>hello-robot</code> user account will be set up.</p>
<h3 id="run-the-robot-installation-script">Run the robot installation script<a class="headerlink" href="#run-the-robot-installation-script" title="Anchor link">&para;</a></h3>
<p>Login to the <code>hello-robot</code> user account on your new Ubuntu partition, open a terminal, and run:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>zip
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The system may not be able to run APT immediately after a reboot as the OS may be running automatic updates in the background. Typically, waiting 10-20 minutes will allow you to use APT again.</p>
</div>
<p>Next, place the robot's calibration data in the home folder using the following steps:</p>
<ol>
<li>Plug in the USB key that contains the backed up calibration data.</li>
<li>Copy the <code>stretch-&lt;yyy&gt;-&lt;xxxx&gt;</code> directory from the USB key into the home folder (i.e. <code>/home/$USER/</code>).<ul>
<li>For example, you can run a command similar to <code>cp -r /media/$USER/&lt;USBKEY&gt;/stretch-&lt;yyy&gt;-&lt;xxxx&gt; /home/$USER/</code> from the command line, where <code>&lt;USBKEY&gt;</code> and <code>&lt;xxxx&gt;</code> are replaced with your USB key's name and your robot's serial number, respectively.</li>
<li>Or, you can open the file explorer to copy the directory.</li>
</ul>
</li>
</ol>
<p>Next, use git to pull down the <a href="https://github.com/hello-robot/stretch_install">Stretch Install</a> repository and begin the installation process:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/hello-robot/stretch_install
<span class="nb">cd</span><span class="w"> </span>stretch_install
git<span class="w"> </span>pull
./stretch_new_robot_install.sh
</code></pre></div>
<p>Once the script has started, it will ask you for your robot's serial number, Y/N confirmation, and the password. Then, the script will typically take 20-30 minutes to complete on a wired connection. Once it finishes, it should print out something similar to:</p>
<div class="highlight"><pre><span></span><code>#############################################
DONE! INSTALLATION COMPLETED SUCCESSFULLY.
[...]
#############################################
</code></pre></div>
<p>If it has not printed out 'DONE', then the robot install did not complete successfully. Take a look at the <a href="#troubleshooting">troubleshooting</a> section below for solutions to common issues, or contact Hello Robot support via email or <a href="https://forum.hello-robot.com/">the forum</a>.</p>
<h3 id="post-install-steps">Post install steps<a class="headerlink" href="#post-install-steps" title="Anchor link">&para;</a></h3>
<p>Next, we'll complete the post install steps. First, in order for the many changes to take effect, the robot will need a full reboot. The steps are:</p>
<ol>
<li>Ensure there's a clamp under the lift</li>
<li>Shutdown the Ubuntu OS through the GUI or use <code>sudo shutdown -h now</code> in the terminal</li>
<li>Turn off the power switch in the robot's trunk</li>
<li>Ensure a keyboard/monitor is plugged into the robot. When the robot powers up, you can use the keyboard to decide which OS to boot into.</li>
<li>Turn on the power switch in the robot's trunk</li>
<li>Boot into the new Ubuntu partition and log in if necessary</li>
</ol>
<p>Next, we'll ensure the robot's firmware is upgraded to the latest available.</p>
<div class="shell-prompt copy highlight"><pre><span></span><code>REx_firmware_updater.py<span class="w"> </span>--install
</code></pre></div>
<p>Next, we'll configure the software for the tool attached to your robot.</p>
<div class="shell-prompt copy highlight"><pre><span></span><code>stretch_configure_tool.py
</code></pre></div>
<p>Next, we'll run Stretch's homing procedure, where every joint's zero is found. This is a ~30 second procedure that must occur everytime the robot wakes up.</p>
<div class="shell-prompt copy highlight"><pre><span></span><code>stretch_robot_home.py
</code></pre></div>
<p>Next, we'll calibrate the contact thresholds for the robot's arm joint.</p>
<div class="shell-prompt copy highlight"><pre><span></span><code>REx_calibrate_guarded_contact.py<span class="w"> </span>--arm
</code></pre></div>
<p>Next, we'll remove the clip-clamp and calibrate the contact thresholds for the robot's lift joint.</p>
<p><a class="glightbox" href="../images/remove_clipclamp.jpg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="remove clip-clamp" loading="lazy" src="../images/remove_clipclamp.jpg" width="400" /></a></p>
<div class="shell-prompt copy highlight"><pre><span></span><code>REx_calibrate_guarded_contact.py<span class="w"> </span>--lift
</code></pre></div>
<p>Next, we'll run the system check to confirm the robot is ready to use. If you see any failures or errors, contact Hello Robot support via email or <a href="https://forum.hello-robot.com/">the forum</a>.</p>
<div class="shell-prompt copy highlight"><pre><span></span><code>stretch_system_check.py
</code></pre></div>
<p>Finally, this step is <strong>optional</strong>. The robot can be configured to automatically run the gamepad teleop program when it boots up. To do this, open Startup Applications and enable the "hello_robot_gamepad_teleop" program.</p>
<p><a class="glightbox" href="../images/enable_gamepad_autostart.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="enable autostart gamepad teleop" loading="lazy" src="../images/enable_gamepad_autostart.png" /></a></p>
<p>Your robot is now set up with a new operating system! If you're new to Stretch, consider going through the <a href="../../getting_started/hello_robot/">Getting Started</a> tutorials.</p>
<hr />
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Anchor link">&para;</a></h2>
<p>This section provides suggestions for common errors that occur during installation. If you become stuck and don't find an answer here, please email us or contact us through <a href="https://forum.hello-robot.com/">the forum</a>.</p>
<h3 id="expecting-var-hello_fleet_id-to-be-undefined-error">'Expecting var HELLO_FLEET_ID to be undefined' error<a class="headerlink" href="#expecting-var-hello_fleet_id-to-be-undefined-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:</p>
<div class="highlight"><pre><span></span><code>[...]
Checking ~/.bashrc doesn&#39;t already define HELLO_FLEET_ID...
Expecting var HELLO_FLEET_ID to be undefined. Check end of ~/.bashrc file, delete all lines in &#39;STRETCH BASHRC SETUP&#39; section, and open a new terminal. Exiting.

#############################################
FAILURE. INSTALLATION DID NOT COMPLETE.
[...]
</code></pre></div>
<p>You are performing a new robot install on a robot that has already gone through the robot install process. If this is intentional, you will need to manually delete lines that a previous robot install appended to the <code>~/.bashrc</code> dotfile. Open the <code>~/.bashrc</code> file in an editor and look near the end for a section that looks like:</p>
<div class="highlight"><pre><span></span><code>######################
# STRETCH BASHRC SETUP
######################
export HELLO_FLEET_PATH=/home/ubuntu/stretch_user
export HELLO_FLEET_ID=stretch-re1-1000
export PATH=${PATH}:~/.local/bin
export LRS_LOG_LEVEL=None #Debug
source /opt/ros/noetic/setup.bash
source /home/ubuntu/catkin_ws/devel/setup.bash
[...]
</code></pre></div>
<p>Delete this section from the <code>~/.bashrc</code>. Note that it's common for other programs (e.g. Conda, Ruby) to append to your <code>~/.bashrc</code> as well, and deleting those lines accidentally can impede their functionality. Take care to only delete lines related to 'STRETCH BASHRC SETUP' section. Next, open a new terminal. Every new bash shell (i.e. the terminal you open when searching for 'Terminal' in system applications) automatically runs the commands in the <code>~/.bashrc</code> dotfile when opened, so the new terminal won't be set up with the lines that were just deleted. Now you can run a new robot install and this error should gone.</p>
<h3 id="expecting-stretch-yyy-xxxx-to-be-present-in-the-home-folder-error">'Expecting stretch-yyy-xxxx to be present in the home folder' error<a class="headerlink" href="#expecting-stretch-yyy-xxxx-to-be-present-in-the-home-folder-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:</p>
<div class="highlight"><pre><span></span><code>[...]
Checking robot calibration data in home folder...
Expecting robot calibration stretch-yyy-xxxx to be present in the the home folder. Exiting.

#############################################
FAILURE. INSTALLATION DID NOT COMPLETE.
[...]
</code></pre></div>
<p>The install scripts exited before performing the robot install because it was unable to find the robot's calibration data folder, 'stretch-yyy-xxxx'. Please ensure you have <a href="#back-up-robot-calibration-data">backed up your robot's calibration data</a> to a USB key and copied the 'stretch-yyy-xxxx' folder to the home folder of your new partition. See the <a href="#run-the-robot-installation-script">Run the robot installation script</a> section for more details. Then, run the install scripts again and the error should be gone.</p>
<h3 id="repo-not-up-to-date-error">'Repo not up-to-date' error<a class="headerlink" href="#repo-not-up-to-date-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:</p>
<div class="highlight"><pre><span></span><code>[...]
Checking install repo is up-to-date...
Repo not up-to-date. Please perform a &#39;git pull&#39;. Exiting.

#############################################
FAILURE. INSTALLATION DID NOT COMPLETE.
[...]
</code></pre></div>
<p>The version of Stretch Install being used is out of date. In a terminal, go to the Stretch Install folder (should be in the home folder: <code>cd ~/stretch_install</code>), and perform a <code>git pull</code> to pull down the latest version. If the git pull fails, ensure Stretch Install has a clean working tree using <code>git status</code>. If you see any red files, save them if important, delete Stretch Install, and reclone it.</p>
<h3 id="failed-to-fetch-error">'Failed to fetch' error<a class="headerlink" href="#failed-to-fetch-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:</p>
<div class="highlight"><pre><span></span><code>Install &lt;some package&gt;
E: Failed to fetch &lt;url to some .deb file&gt;  Connection failed [IP: &lt;some IP address&gt;]
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?

#############################################
FAILURE. INSTALLATION DID NOT COMPLETE.
[...]
</code></pre></div>
<p>Ubuntu's system package manager, Apt, has failed to contact the server that hosts some package that the install scripts need to download. Typically, these issues are transient and waiting some time before rerunning the install script will solve the issue.</p>
<h3 id="dpkg-returned-an-error-code-error">'dpkg returned an error code' error<a class="headerlink" href="#dpkg-returned-an-error-code-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:</p>
<div class="highlight"><pre><span></span><code>Install &lt;some package&gt;
E: Sub-process /usr/bin/dpkg returned an error code (1)

#############################################
FAILURE. INSTALLATION DID NOT COMPLETE.
[...]
</code></pre></div>
<p>Ubuntu's system package manager, Apt, has failed to complete some step of the install process for a package that the install scripts need to install. Typically, these issues are transient and waiting some time before rerunning the install script will solve the issue. If you continue to see this error, contact Hello Robot support via email or <a href="https://forum.hello-robot.com/">the forum</a>.</p>
<h3 id="firmware-protocol-mismatch-error">'Firmware protocol mismatch' error<a class="headerlink" href="#firmware-protocol-mismatch-error" title="Anchor link">&para;</a></h3>
<p>If you are seeing the following error:
<div class="highlight"><pre><span></span><code>----------------
Firmware protocol mismatch on hello-&lt;X&gt;.
Protocol on board is p&lt;X&gt;.
Valid protocol is: p&lt;X&gt;.
Disabling device.
Please upgrade the firmware and/or version of Stretch Body.
----------------
</code></pre></div></p>
<p>Your version of Stretch Body does not align with the firmware installed with your robot. It's recommended that Stretch Body is first upgraded to the latest version available (but if you're intentionally running an older version, you can skip this step and the firmware updater will downgrade your firmware appropriately). To upgrade Stretch Body, follow the <a href="../../software/updating_software/#python-libraries">instructions here</a>.</p>
<p>Next, run the firmware updater tool to automatically update the firmware to the required version for your software.</p>
<div class="highlight"><pre><span></span><code>REx_firmware_updater.py --install
</code></pre></div>
<p>The firmware mismatch errors should now be gone.</p>
<hr />
<div align="center"> All materials are Copyright 2020-2024 by Hello Robot Inc. Hello Robot and Stretch are registered trademarks.</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../ros_workspace/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Updating your ROS Workspace">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Updating your ROS Workspace
              </div>
            </div>
          </a>
        
        
          
          <a href="../../developing/basics/" class="md-footer__link md-footer__link--next" aria-label="Next: The Basics">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                The Basics
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020-2024 Hello Robot Inc
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://hello-robot.com" target="_blank" rel="noopener" title="hello-robot.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/HelloRobotInc" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/hello-robot" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/hello-robot-inc" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>