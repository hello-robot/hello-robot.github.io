<!-- Elements added to "main.html" will be displayed on all pages -->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Hello Robot User Documentation">
      
      
        <meta name="author" content="Hello Robot Inc">
      
      
        <link rel="canonical" href="https://docs.hello-robot.com/0.3/ros2/example_9/">
      
      
        <link rel="prev" href="./">
      
      
        <link rel="next" href="../../extending_stretch/changing_tools/">
      
      
      <link rel="icon" href="../../images/hello_robot_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Voice Teleop - Stretch Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    <!-- main.html | Added "navigation.instant" support -->
    <link rel="canonical" href=".">

   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example-9" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Stretch Docs" class="md-header__button md-logo" aria-label="Stretch Docs" data-md-component="logo">
      
  <img src="../../images/hello_robot_logo_light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stretch Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Voice Teleop
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Stretch Docs" class="md-nav__button md-logo" aria-label="Stretch Docs" data-md-component="logo">
      
  <img src="../../images/hello_robot_logo_light.png" alt="logo">

    </a>
    Stretch Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/hello_robot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello Robot!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/connecting_to_stretch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to Stretch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/stretch_hardware_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robot Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/writing_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/demos_mapping_and_navigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo 1 - Mapping & Navigation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/demos_web_teleop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo 2 - Web Teleop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/community_resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_help/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting help
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hardware Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Hardware Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/safety_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/hardware_guide_stretch_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stretch 3 Hardware Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/battery_maintenance_guide_se3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Battery Maintenance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/distributions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/updating_software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating Software
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/changelogs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelogs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Installation Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/add_new_user/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding a New User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/ros_workspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating your ROS Workspace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/robot_install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading your Operating System
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developing with Stretch
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developing with Stretch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developing/onboot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launching Apps on Boot
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Python Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/moving/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Commanding Stretch to Move
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/hello-robot/stretch_body/blob/master/docs/is_thread_safe/README.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thread Safety
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ROS 2 Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ROS 2 Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jogging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motion Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../robot_drivers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robot Drivers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Navigation with Nav2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Navigation with Nav2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../navigation_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../navigation_stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nav2 Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../navigation_simple_commander/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nav2 Simple Commander
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/hello-robot/stretch_ros2/tree/humble/stretch_funmap#overview" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FUNMAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../perception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perception
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filter Laser Scans
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collision Avoidance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rviz Markers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote_compute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Offloading Computation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ArUco Locator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-9" class="md-nav__link">
    <span class="md-ellipsis">
      Example 9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-code" class="md-nav__link">
    <span class="md-ellipsis">
      The Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-code-explained" class="md-nav__link">
    <span class="md-ellipsis">
      The Code Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-9" class="md-nav__link">
    <span class="md-ellipsis">
      Example 9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-code" class="md-nav__link">
    <span class="md-ellipsis">
      The Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-code-explained" class="md-nav__link">
    <span class="md-ellipsis">
      The Code Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Voice Teleop
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-9" class="md-nav__link">
    <span class="md-ellipsis">
      Example 9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-code" class="md-nav__link">
    <span class="md-ellipsis">
      The Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-code-explained" class="md-nav__link">
    <span class="md-ellipsis">
      The Code Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extending Stretch
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Extending Stretch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/changing_tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changing Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/urdf_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URDF Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending_stretch/extending_stretch_additional_hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending Stretch with Additional Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Software Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stretch-body/docs/robot_parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robot Parameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stretch-body/docs/is_thread_safe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thread-safety Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-9" class="md-nav__link">
    <span class="md-ellipsis">
      Example 9
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 9">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-code" class="md-nav__link">
    <span class="md-ellipsis">
      The Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-code-explained" class="md-nav__link">
    <span class="md-ellipsis">
      The Code Explained
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Voice Teleop</h1>

<h2 id="example-9">Example 9<a class="headerlink" href="#example-9" title="Anchor link">&para;</a></h2>
<p>This example aims to combine the <a href="../respeaker_mic_array/">ReSpeaker Microphone Array</a> and <a href="../follow_joint_trajectory/">Follow Joint Trajectory</a> tutorials to voice teleoperate the mobile base of the Stretch robot.</p>
<p>Begin by running the following command in a new terminal.</p>
<div class="shell-prompt highlight"><pre><span></span><code>ros2<span class="w"> </span>launch<span class="w"> </span>stretch_core<span class="w"> </span>stretch_driver.launch.py
</code></pre></div>
<p>Then run the <code>respeaker.launch.py</code> file. In a new terminal, execute:</p>
<div class="shell-prompt highlight"><pre><span></span><code>ros2<span class="w"> </span>launch<span class="w"> </span>respeaker_ros2<span class="w"> </span>respeaker.launch.py
</code></pre></div>
<p>Then run the <a href="https://github.com/hello-robot/stretch_tutorials/blob/humble/stretch_ros_tutorials/voice_teleoperation_base.py">voice_teleoperation_base.py</a> node in a new terminal.</p>
<div class="shell-prompt highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>ament_ws/src/stretch_tutorials/stretch_ros_tutorials/
python3<span class="w"> </span>voice_teleoperation_base.py
</code></pre></div>
<p>In terminal 3, a menu of voice commands is printed. You can reference this menu layout below.  </p>
<div class="no-copy highlight"><pre><span></span><code>------------<span class="w"> </span>VOICE<span class="w"> </span>TELEOP<span class="w"> </span>MENU<span class="w"> </span>------------

VOICE<span class="w"> </span>COMMANDS<span class="w">              </span>
<span class="s2">&quot;forward&quot;</span>:<span class="w"> </span>BASE<span class="w"> </span>FORWARD<span class="w">                   </span>
<span class="s2">&quot;back&quot;</span><span class="w">   </span>:<span class="w"> </span>BASE<span class="w"> </span>BACK<span class="w">                      </span>
<span class="s2">&quot;left&quot;</span><span class="w">   </span>:<span class="w"> </span>BASE<span class="w"> </span>ROTATE<span class="w"> </span>LEFT<span class="w">               </span>
<span class="s2">&quot;right&quot;</span><span class="w">  </span>:<span class="w"> </span>BASE<span class="w"> </span>ROTATE<span class="w"> </span>RIGHT<span class="w">              </span>
<span class="s2">&quot;stretch&quot;</span>:<span class="w"> </span>BASE<span class="w"> </span>ROTATES<span class="w"> </span>TOWARDS<span class="w"> </span>SOUND<span class="w">     </span>

STEP<span class="w"> </span>SIZE<span class="w">                 </span>
<span class="s2">&quot;big&quot;</span><span class="w">    </span>:<span class="w"> </span>BIG<span class="w">                            </span>
<span class="s2">&quot;medium&quot;</span><span class="w"> </span>:<span class="w"> </span>MEDIUM<span class="w">                         </span>
<span class="s2">&quot;small&quot;</span><span class="w">  </span>:<span class="w"> </span>SMALL<span class="w">                          </span>


<span class="s2">&quot;quit&quot;</span><span class="w">   </span>:<span class="w"> </span>QUIT<span class="w"> </span>AND<span class="w"> </span>CLOSE<span class="w"> </span>NODE<span class="w">            </span>

-------------------------------------------
</code></pre></div>
<p>To stop the node from sending twist messages, type <code>Ctrl</code> + <code>c</code> or say "<strong>quit</strong>".</p>
<h3 id="the-code">The Code<a class="headerlink" href="#the-code" title="Anchor link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>

<span class="c1"># Import modules</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">rclpy</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rclpy.duration</span><span class="w"> </span><span class="kn">import</span> <span class="n">Duration</span>

<span class="c1"># We&#39;re going to subscribe to 64-bit integers, so we need to import the definition</span>
<span class="c1"># for them</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sensor_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">JointState</span>

<span class="c1"># Import Int32 message typs from the std_msgs package</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">std_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">Int32</span>

<span class="c1"># Import the FollowJointTrajectory from the control_msgs.msg package to</span>
<span class="c1"># control the Stretch robot</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">control_msgs.action</span><span class="w"> </span><span class="kn">import</span> <span class="n">FollowJointTrajectory</span>

<span class="c1"># Import JointTrajectoryPoint from the trajectory_msgs package to define</span>
<span class="c1"># robot trajectories</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">trajectory_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">JointTrajectoryPoint</span>

<span class="c1"># Import hello_misc script for handling trajectory goals with an action client</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">hello_helpers.hello_misc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">hm</span>

<span class="c1"># Import SpeechRecognitionCandidates from the speech_recognition_msgs package</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">speech_recognition_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">SpeechRecognitionCandidates</span>

<span class="k">class</span><span class="w"> </span><span class="nc">GetVoiceCommands</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
        <span class="c1"># Set step size as medium by default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">=</span> <span class="s1">&#39;medium&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">180.0</span>

        <span class="c1"># Small step size parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">small_deg</span> <span class="o">=</span> <span class="mf">5.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">small_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_deg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">small_translate</span> <span class="o">=</span> <span class="mf">0.025</span>

        <span class="c1"># Medium step size parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_deg</span> <span class="o">=</span> <span class="mf">10.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_deg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">medium_translate</span> <span class="o">=</span> <span class="mf">0.05</span>

        <span class="c1"># Big step size parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">big_deg</span> <span class="o">=</span> <span class="mf">20.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">big_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_deg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">big_translate</span> <span class="o">=</span> <span class="mf">0.1</span>

        <span class="c1"># Initialize the voice command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># Initialize the sound direction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Initialize subscribers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speech_to_text_sub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">SpeechRecognitionCandidates</span><span class="p">,</span> <span class="s2">&quot;/speech_to_text&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_speech</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction_sub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">Int32</span><span class="p">,</span> <span class="s2">&quot;/sound_direction&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_direction</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">callback_direction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">data</span> <span class="o">*</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">callback_speech</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">msg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="n">msg</span><span class="o">.</span><span class="n">transcript</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_inc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;small&#39;</span><span class="p">:</span>
            <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_translate</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">:</span>
            <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_translate</span><span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;big&#39;</span><span class="p">:</span>
            <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_translate</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">inc</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_commands</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A function that prints the voice teleoperation menu.</span>
<span class="sd">        :param self: The self reference.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------------ VOICE TELEOP MENU ------------&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;               VOICE COMMANDS              &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;forward&quot;: BASE FORWARD                   &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;back&quot;   : BASE BACK                      &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;left&quot;   : BASE ROTATE LEFT               &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;right&quot;  : BASE ROTATE RIGHT              &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;stretch&quot;: BASE ROTATES TOWARDS SOUND     &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                 STEP SIZE                 &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;big&quot;    : BIG                            &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;medium&quot; : MEDIUM                         &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;small&quot;  : SMALL                          &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &quot;quit&quot;   : QUIT AND CLOSE NODE            &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;                                           &#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------------&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">command</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Move base forward command</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;forward&#39;</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;translate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;translate&#39;</span><span class="p">]}</span>

        <span class="c1"># Move base back command</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;back&#39;</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;translate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;translate&#39;</span><span class="p">]}</span>

        <span class="c1"># Rotate base left command</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;rad&#39;</span><span class="p">]}</span>

        <span class="c1"># Rotate base right command</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;rad&#39;</span><span class="p">]}</span>

        <span class="c1"># Move base to sound direction command</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;stretch&#39;</span><span class="p">:</span>
            <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span><span class="p">}</span>

        <span class="c1"># Set the step size of translational and rotational base motions</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;medium&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;big&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Step size = </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_size</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
            <span class="c1"># Sends a signal to ros to shutdown the ROS interfaces</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">)</span>

            <span class="c1"># Exit the Python interpreter</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Reset voice command to None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># return the updated command</span>
        <span class="k">return</span> <span class="n">command</span>


<span class="k">class</span><span class="w"> </span><span class="nc">VoiceTeleopNode</span><span class="p">(</span><span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mf">10.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joint_state</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;voice_teleop&#39;</span><span class="p">,</span> <span class="s1">&#39;voice_teleop&#39;</span><span class="p">,</span> <span class="n">wait_for_first_pointcloud</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speech</span> <span class="o">=</span> <span class="n">GetVoiceCommands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">joint_states_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joint_state</span> <span class="o">=</span> <span class="n">msg</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">send_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
        <span class="n">joint_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">joint_state</span>
        <span class="c1"># Conditional statement to send  joint trajectory goals</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">joint_state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">command</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="c1"># Assign point as a JointTrajectoryPoint message type</span>
            <span class="n">point</span> <span class="o">=</span> <span class="n">JointTrajectoryPoint</span><span class="p">()</span>
            <span class="n">point</span><span class="o">.</span><span class="n">time_from_start</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_msg</span><span class="p">()</span>

            <span class="c1"># Assign trajectory_goal as a FollowJointTrajectoryGoal message type</span>
            <span class="n">trajectory_goal</span> <span class="o">=</span> <span class="n">FollowJointTrajectory</span><span class="o">.</span><span class="n">Goal</span><span class="p">()</span>
            <span class="n">trajectory_goal</span><span class="o">.</span><span class="n">goal_time_tolerance</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_msg</span><span class="p">()</span>

            <span class="c1"># Extract the joint name from the command dictionary</span>
            <span class="n">joint_name</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;joint&#39;</span><span class="p">]</span>
            <span class="n">trajectory_goal</span><span class="o">.</span><span class="n">trajectory</span><span class="o">.</span><span class="n">joint_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">joint_name</span><span class="p">]</span>

            <span class="c1"># Extract the increment type from the command dictionary</span>
            <span class="n">inc</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;inc&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;inc = </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inc</span><span class="p">))</span>
            <span class="n">new_value</span> <span class="o">=</span> <span class="n">inc</span>

            <span class="c1"># Assign the new_value position to the trajectory goal message type</span>
            <span class="n">point</span><span class="o">.</span><span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_value</span><span class="p">]</span>
            <span class="n">trajectory_goal</span><span class="o">.</span><span class="n">trajectory</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span><span class="p">]</span>
            <span class="n">trajectory_goal</span><span class="o">.</span><span class="n">trajectory</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">stamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_clock</span><span class="p">()</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">to_msg</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;joint_name = </span><span class="si">{0}</span><span class="s1">, trajectory_goal = </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">joint_name</span><span class="p">,</span> <span class="n">trajectory_goal</span><span class="p">))</span>

            <span class="c1"># Make the action call and send goal of the new joint position</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trajectory_client</span><span class="o">.</span><span class="n">send_goal</span><span class="p">(</span><span class="n">trajectory_goal</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Done sending command.&#39;</span><span class="p">)</span>

            <span class="c1"># Reprint the voice command menu</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">speech</span><span class="o">.</span><span class="n">print_commands</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">timer_get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Get voice command</span>
            <span class="n">command</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">speech</span><span class="o">.</span><span class="n">get_command</span><span class="p">()</span>

            <span class="c1"># Send voice command for joint trajectory goals</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">JointState</span><span class="p">,</span> <span class="s1">&#39;/stretch/joint_states&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">joint_states_callback</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speech</span><span class="o">.</span><span class="n">print_commands</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sleep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">rate</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer_get_command</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#rclpy.init(args=args)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">VoiceTeleopNode</span><span class="p">()</span>
        <span class="n">node</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
        <span class="n">node</span><span class="o">.</span><span class="n">new_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;interrupt received, so shutting down&#39;</span><span class="p">)</span>
        <span class="n">node</span><span class="o">.</span><span class="n">destroy_node</span><span class="p">()</span>
        <span class="n">rclpy</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h3 id="the-code-explained">The Code Explained<a class="headerlink" href="#the-code-explained" title="Anchor link">&para;</a></h3>
<p>This code is similar to that of the <a href="https://github.com/hello-robot/stretch_tutorials/blob/humble/stretch_ros_tutorials/multipoint_command.py">multipoint_command</a> and <a href="https://github.com/hello-robot/stretch_tutorials/blob/humble/stretch_ros_tutorials/joint_state_printer.py">joint_state_printer</a> node. Therefore, this example will highlight sections that are different from those tutorials. Now let's break the code down.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
</code></pre></div>
<p>Every Python ROS <a href="http://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes/Understanding-ROS2-Nodes.html">Node</a> will have this declaration at the top. The first line makes sure your script is executed as a Python script.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">rclpy</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rclpy.duration</span><span class="w"> </span><span class="kn">import</span> <span class="n">Duration</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sensor_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">JointState</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">std_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">Int32</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">control_msgs.action</span><span class="w"> </span><span class="kn">import</span> <span class="n">FollowJointTrajectory</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">trajectory_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">JointTrajectoryPoint</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">hello_helpers.hello_misc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">hm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">speech_recognition_msgs.msg</span><span class="w"> </span><span class="kn">import</span> <span class="n">SpeechRecognitionCandidates</span>
</code></pre></div>
<p>You need to import <code>rclpy</code> if you are writing a ROS Node. Import the <code>FollowJointTrajectory</code> from the <code>control_msgs.action</code> package to control the Stretch robot. Import <code>JointTrajectoryPoint</code> from the <code>trajectory_msgs</code> package to define robot trajectories. The <code>hello_helpers</code> package consists of a module that provides various Python scripts used across stretch_ros. In this instance, we are importing the <code>hello_misc</code> script.  Import <code>sensor_msgs.msg</code> so that we can subscribe to JointState messages.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">GetVoiceCommands</span><span class="p">:</span>
</code></pre></div>
<p>Create a class that subscribes to the <code>speech-to-text</code> recognition messages, prints a voice command menu, and defines step size for translational and rotational mobile base motion.</p>
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
<span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">=</span> <span class="s1">&#39;medium&#39;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">180.0</span>
</code></pre></div>
<p>Set the default step size as medium and create a float value, <code>self.rad_per_deg</code>, to convert degrees to radians.</p>
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">small_deg</span> <span class="o">=</span> <span class="mf">5.0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">small_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_deg</span>
<span class="bp">self</span><span class="o">.</span><span class="n">small_translate</span> <span class="o">=</span> <span class="mf">0.025</span>

<span class="bp">self</span><span class="o">.</span><span class="n">medium_deg</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">medium_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_deg</span>
<span class="bp">self</span><span class="o">.</span><span class="n">medium_translate</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="bp">self</span><span class="o">.</span><span class="n">big_deg</span> <span class="o">=</span> <span class="mf">20.0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">big_rad</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_deg</span>
<span class="bp">self</span><span class="o">.</span><span class="n">big_translate</span> <span class="o">=</span> <span class="mf">0.1</span>
</code></pre></div>
<p>Define the three rotation and translation step sizes.</p>
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">=</span> <span class="kc">None</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span> <span class="o">=</span> <span class="mi">0</span>
<span class="bp">self</span><span class="o">.</span><span class="n">speech_to_text_sub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">SpeechRecognitionCandidates</span><span class="p">,</span> <span class="s2">&quot;/speech_to_text&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_speech</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">sound_direction_sub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">Int32</span><span class="p">,</span> <span class="s2">&quot;/sound_direction&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">callback_direction</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Initialize the voice command and sound direction to values that will not result in moving the base.</p>
<p>Set up two subscribers.  The first one subscribes to the topic <code>/speech_to_text</code>, looking for <code>SpeechRecognitionCandidates</code> messages.  When a message comes in, ROS is going to pass it to the function <code>callback_speech</code> automatically. The second subscribes to <code>/sound_direction</code> message and passes it to the <code>callback_direction</code> function.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">callback_direction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">data</span> <span class="o">*</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">rad_per_deg</span>
</code></pre></div>
<p>The <code>callback_direction</code> function converts the <code>sound_direction</code> topic from degrees to radians.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;small&#39;</span><span class="p">:</span>
    <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">small_translate</span><span class="p">}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;medium&#39;</span><span class="p">:</span>
    <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">medium_translate</span><span class="p">}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">==</span> <span class="s1">&#39;big&#39;</span><span class="p">:</span>
    <span class="n">inc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rad&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_rad</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">big_translate</span><span class="p">}</span>
<span class="k">return</span> <span class="n">inc</span>
</code></pre></div>
<p>The <code>callback_speech</code> stores the increment size for translational and rotational base motion in <code>inc</code>. The increment size is contingent on the <code>self.step_size</code> string value.</p>
<div class="highlight"><pre><span></span><code><span class="n">command</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;forward&#39;</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;translate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;translate&#39;</span><span class="p">]}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;back&#39;</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;translate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;translate&#39;</span><span class="p">]}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;rad&#39;</span><span class="p">]}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">get_inc</span><span class="p">()[</span><span class="s1">&#39;rad&#39;</span><span class="p">]}</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;stretch&#39;</span><span class="p">:</span>
    <span class="n">command</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;joint&#39;</span><span class="p">:</span> <span class="s1">&#39;rotate_mobile_base&#39;</span><span class="p">,</span> <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sound_direction</span><span class="p">}</span>
</code></pre></div>
<p>In the <code>get_command()</code> function, the <code>command</code> is initialized as <code>None</code>, or set as a dictionary where the <code>joint</code> and <code>inc</code> values are stored. The <code>command</code> message type is dependent on the <code>self.voice_command</code> string value.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;small&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;medium&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s2">&quot;big&quot;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">step_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Step size = </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">step_size</span><span class="p">))</span>
</code></pre></div>
<p>Based on the <code>self.voice_command</code> value set the step size for the increments.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">voice_command</span> <span class="o">==</span> <span class="s1">&#39;quit&#39;</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>
<p>If the <code>self.voice_command</code> is equal to <code>quit</code>, then initiate a clean shutdown of ROS and exit the Python interpreter.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VoiceTeleopNode</span><span class="p">(</span><span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mf">10.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">joint_state</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">hm</span><span class="o">.</span><span class="n">HelloNode</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;voice_teleop&#39;</span><span class="p">,</span> <span class="s1">&#39;voice_teleop&#39;</span><span class="p">,</span> <span class="n">wait_for_first_pointcloud</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speech</span> <span class="o">=</span> <span class="n">GetVoiceCommands</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
<p>A class that inherits the <code>HelloNode</code> class from <code>hm</code> declares object from the <code>GetVoiceCommands</code> class and sends joint trajectory commands. The main function instantiates the <code>HelloNode</code> class.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">send_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
    <span class="n">joint_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">joint_state</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">joint_state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">command</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">point</span> <span class="o">=</span> <span class="n">JointTrajectoryPoint</span><span class="p">()</span>
        <span class="n">point</span><span class="o">.</span><span class="n">time_from_start</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_msg</span><span class="p">()</span>
</code></pre></div>
<p>The <code>send_command</code> function stores the joint state message and uses a conditional statement to send joint trajectory goals. Also, assign <code>point</code> as a <code>JointTrajectoryPoint</code> message type.</p>
<div class="highlight"><pre><span></span><code><span class="n">trajectory_goal</span> <span class="o">=</span> <span class="n">FollowJointTrajectory</span><span class="o">.</span><span class="n">Goal</span><span class="p">()</span>
<span class="n">trajectory_goal</span><span class="o">.</span><span class="n">goal_time_tolerance</span> <span class="o">=</span> <span class="n">Duration</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_msg</span><span class="p">()</span>
</code></pre></div>
<p>Assign <code>trajectory_goal</code> as a <code>FollowJointTrajectory.Goal</code> message type.</p>
<div class="highlight"><pre><span></span><code><span class="n">joint_name</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;joint&#39;</span><span class="p">]</span>
<span class="n">trajectory_goal</span><span class="o">.</span><span class="n">trajectory</span><span class="o">.</span><span class="n">joint_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">joint_name</span><span class="p">]</span>
</code></pre></div>
<p>Extract the joint name from the command dictionary.</p>
<div class="highlight"><pre><span></span><code><span class="n">inc</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="s1">&#39;inc&#39;</span><span class="p">]</span>
<span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;inc = </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">inc</span><span class="p">))</span>
<span class="n">new_value</span> <span class="o">=</span> <span class="n">inc</span>
</code></pre></div>
<p>Extract the increment type from the command dictionary.</p>
<div class="highlight"><pre><span></span><code><span class="n">point</span><span class="o">.</span><span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_value</span><span class="p">]</span>
<span class="n">trajectory_goal</span><span class="o">.</span><span class="n">trajectory</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span><span class="p">]</span>
</code></pre></div>
<p>Assign the new value position to the trajectory goal message type.</p>
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">trajectory_client</span><span class="o">.</span><span class="n">send_goal</span><span class="p">(</span><span class="n">trajectory_goal</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Done sending command.&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Make the action call and send the goal of the new joint position.</p>
<div class="highlight"><pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">speech</span><span class="o">.</span><span class="n">print_commands</span><span class="p">()</span>
</code></pre></div>
<p>Reprint the voice command menu after the trajectory goal is sent.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">JointState</span><span class="p">,</span> <span class="s1">&#39;/stretch/joint_states&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">joint_states_callback</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rate</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">speech</span><span class="o">.</span><span class="n">print_commands</span><span class="p">()</span>
</code></pre></div>
<p>The main function initializes the subscriber and we are going to use the publishing rate that we set before.</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="p">:</span>
    <span class="c1">#rclpy.init(args=args)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">VoiceTeleopNode</span><span class="p">()</span>
    <span class="n">node</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
    <span class="n">node</span><span class="o">.</span><span class="n">new_thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="n">node</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;interrupt received, so shutting down&#39;</span><span class="p">)</span>
    <span class="n">node</span><span class="o">.</span><span class="n">destroy_node</span><span class="p">()</span>
    <span class="n">rclpy</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</code></pre></div>
<p>Declare a <code>VoiceTeleopNode</code> object. Then execute the <code>main()</code> method.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="./" class="md-footer__link md-footer__link--prev" aria-label="Previous: Voice Teleop">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Voice Teleop
              </div>
            </div>
          </a>
        
        
          
          <a href="../../extending_stretch/changing_tools/" class="md-footer__link md-footer__link--next" aria-label="Next: Changing Tools">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Changing Tools
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020-2024 Hello Robot Inc
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://hello-robot.com" target="_blank" rel="noopener" title="hello-robot.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/HelloRobotInc" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.2 4.2 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.52 8.52 0 0 1-5.33 1.84q-.51 0-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/hello-robot" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/company/hello-robot-inc" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>