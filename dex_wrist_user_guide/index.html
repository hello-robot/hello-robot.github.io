
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Hello Robot User Documentation">
      
      
      
      
        <link rel="canonical" href="https://docs.hello-robot.com/dex_wrist_user_guide/">
      
      <link rel="icon" href="../images/hello_robot_favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.0">
    
    
      
        <title>Stretch RE1: Dex Wrist User Guide - Hello Robot  Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.fe914879.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ba0d045b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"";--md-code-font-family:""}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stretch-re1-dex-wrist-user-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Hello Robot  Documentation" class="md-header__button md-logo" aria-label="Hello Robot  Documentation" data-md-component="logo">
      
  <img src="../images/hello_robot_logo_light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hello Robot  Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stretch RE1: Dex Wrist User Guide
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="hello-robot-light" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="hello-robot-dark" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hello Robot  Documentation" class="md-nav__button md-logo" aria-label="Hello Robot  Documentation" data-md-component="logo">
      
  <img src="../images/hello_robot_logo_light.png" alt="logo">

    </a>
    Hello Robot  Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://forum.hello-robot.com/" class="md-nav__link">
        Stretch Forum
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/hello-robot" class="md-nav__link">
        Stretch GitHub
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://youtube.com/c/HelloRobot" class="md-nav__link">
        Stretch Videos
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-specification" class="md-nav__link">
    Functional Specification
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-dex-wrist" class="md-nav__link">
    Working with the Dex Wrist
  </a>
  
    <nav class="md-nav" aria-label="Working with the Dex Wrist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safe-use" class="md-nav__link">
    Safe Use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avoiding-collisions" class="md-nav__link">
    Avoiding Collisions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xbox-teleoperation" class="md-nav__link">
    XBox Teleoperation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stretch-body-interface" class="md-nav__link">
    Stretch Body Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stretch-ros-interface" class="md-nav__link">
    Stretch ROS Interface
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-installation-and-configuration" class="md-nav__link">
    Appendix: Installation and Configuration
  </a>
  
    <nav class="md-nav" aria-label="Appendix: Installation and Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#production-batch-variation" class="md-nav__link">
    Production Batch Variation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attaching-the-dex-wrist" class="md-nav__link">
    Attaching the Dex Wrist
  </a>
  
    <nav class="md-nav" aria-label="Attaching the Dex Wrist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mounting-bracket" class="md-nav__link">
    Mounting Bracket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-configuration" class="md-nav__link">
    Software Configuration
  </a>
  
    <nav class="md-nav" aria-label="Software Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#upgrade-stretch-body" class="md-nav__link">
    Upgrade Stretch Body
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-servo-baud-rates" class="md-nav__link">
    Update Servo Baud Rates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-user-yaml" class="md-nav__link">
    Configure User YAML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-for-use-in-ros" class="md-nav__link">
    Configure for use in ROS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="stretch-re1-dex-wrist-user-guide">Stretch RE1: Dex Wrist User Guide</h1>
<p>In this guide we will cover the installation, configuration, and use of the Stretch Dex Wrist.</p>
<h2 id="overview">Overview</h2>
<p>The Stretch Dex Wrist is an optional add-on to the RE1. It adds pitch and roll degrees of freedom to the standard wrist yaw joint. It also includes a slightly modified version of the standard Stretch Compliant Gripper. </p>
<p><strong>NOTE:</strong> If your robot did not ship with the Stretch Dex Wrist pre-installed you will want to first proceed to the Appendix: Installation and Configuration at the end of this guide. </p>
<h2 id="functional-specification">Functional Specification</h2>
<p><img alt="" src="../images/dex_wrist_specification.png" /></p>
<h2 id="working-with-the-dex-wrist">Working with the Dex Wrist</h2>
<h3 id="safe-use">Safe Use</h3>
<p>The Dex Wrist requires added attention to safety. Its additional dexterity introduces new pinch points around the wrist pitch and roll degrees of freedom.</p>
<p>NOTE: Please review the <a href="https://docs.hello-robot.com/robot_safety_guide/">Robot Safety Guide</a> prior to working with the Dex Wrist. </p>
<p>In addition to these precautions, the Dex Wrist requires attention to pinch points between:</p>
<ul>
<li>The wrist pitch and wrist yaw structures during yaw motion</li>
<li>The gripper and wrist pitch structures during pitch motion</li>
</ul>
<p>The Dex Wrist includes a pinch point safety marking as a reminder to users:</p>
<p><img alt="" src="../images/hand_crush_rs.png" /></p>
<h3 id="avoiding-collisions">Avoiding Collisions</h3>
<p>The added dexterity of the Dex Wrist introduces new opportunities for self-collision between the robot tool and the robot. These include</p>
<ul>
<li>Running the tool into the base during lift downward motion</li>
<li>Running the tool into the ground</li>
<li>Running the tool into the wrist yaw structure</li>
</ul>
<p>We recommend becoming familiar with the potential collision points of the Dex Wrist by commanding careful motions through the <code>stretch_xbox_controller_teleop.py</code> tool. </p>
<p>With Stretch Body v0.1.0 we introduce a <a href="https://github.com/hello-robot/stretch_body/blob/feature/collision_avoidance/body/stretch_body/robot_collision.py">simple collision avoidance controller</a>. </p>
<p>The collision avoidance behavior acts to dynamically set the robot joint limits according to simple models of its kinematic state.  The avoidance behavior is defined in <a href="https://github.com/hello-robot/stretch_tool_share/blob/master/python/stretch_tool_share/stretch_dex_wrist/collision_model.py"><code>collision_model.py</code></a></p>
<p>For performance reasons this collision avoidance behavior is coarse and does not prevent all self-collisions and considered 'experimental'. The collision avoidance is off by default for the standard Stretch RE1. For robots with the wrist we turn it on by default. It be turned on or off by modifying the following in your user YAML:</p>
<pre><code class="language-yaml">robot:
  use_collision_manager: 1
</code></pre>
<h3 id="xbox-teleoperation">XBox Teleoperation</h3>
<p>The Dex Wrist can be teleoperated using the XBox controller. When the Dex Wrist is installed the <code>stretch_xbox_controller_teleop.py</code> tool will automatically remap control of the pan-tilt head to control of the pitch-roll wrist.</p>
<pre><code class="language-bash">&gt;&gt;$ stretch_xbox_controller_teleop.py
</code></pre>
<p>The new key mapping is shown below. A printable version is available <a href="stretch_re1_dex_wrist_teleop_guide.pdf">here</a>.</p>
<p><img alt="" src="/home/hello-robot/repos/stretch_docs/docs/images/stretch_re1_dex_wrist_teleop_guide.png" /></p>
<h3 id="stretch-body-interface">Stretch Body Interface</h3>
<p>The new <a href="https://github.com/hello-robot/stretch_tool_share/blob/master/python/stretch_tool_share/stretch_dex_wrist_beta/wrist_pitch.py">WristPitch</a> and <a href="https://github.com/hello-robot/stretch_tool_share/blob/master/python/stretch_tool_share/stretch_dex_wrist_beta/wrist_roll.py">WristRoll</a> joints are accessed from Stretch Body in the same manner as the <a href="https://github.com/hello-robot/stretch_body/blob/master/body/stretch_body/wrist_yaw.py">WristYaw</a> joint. </p>
<p>Control of the Stretch Dex Wrist uses the same interfaces as the rest of the Stretch Body Robot joints.  For example:</p>
<pre><code class="language-python">import stretch_body.robot
robot=stretch_body.robot.Robot()
robot.startup()

#Move arm to safe manipulation location
robot.stow()
robot.lift.move_to(0.4)
robot.push_command()
time.sleep(2.0)

#Pose the Dex Wrist
robot.end_of_arm.move_to('wrist_yaw',0)
robot.end_of_arm.move_to('wrist_pitch',0)
robot.end_of_arm.move_to('wrist_roll',0)
robot.end_of_arm.move_to('stretch_gripper',50)
time.sleep(2.0)

#Go back to stow and shutdown
robot.stow()
robot.stop()

</code></pre>
<p>You can jog the individual joints of the wrist with the Stretch Body interface using the <a href="https://github.com/hello-robot/stretch_tool_share/blob/feature/master/python/bin/stretch_dex_wrist_jog.py"><code>stretch_dex_wrist_jog.py</code></a> tool that installs with the Stretch Tool Share:</p>
<pre><code class="language-bash">&gt;&gt;$ stretch_dex_wrist_jog.py --pitch
&gt;&gt;$ stretch_dex_wrist_jog.py --yaw
&gt;&gt;$ stretch_dex_wrist_jog.py --roll
</code></pre>
<p>For reference, the parameters for the Stretch Dex Wrist (which can be overridden in the user YAML) can be seen in  <a href="https://github.com/hello-robot/stretch_tool_share/blob/master/python/stretch_tool_share/stretch_dex_wrist_beta/params.py">params.py</a>.</p>
<h3 id="stretch-ros-interface">Stretch ROS Interface</h3>
<p>The Dex Wrist can be controlled via ROS as well, as shown in the <a href="https://github.com/hello-robot/stretch_ros/blob/master/stretch_core/nodes/keyboard_teleop">keyboard teleoperation code</a>. To test the interface:</p>
<pre><code class="language-bash">&gt;&gt;$ roslaunch stretch_calibration simple_test_head_calibration.launch
</code></pre>
<p>You can type 'q' then Ctrl-C to exit when done. The menu interface is:</p>
<pre><code class="language-bash">---------- KEYBOARD TELEOP MENU -----------|
|                                           |
|                 i HEAD UP                 |
|     j HEAD LEFT          l HEAD RIGHT     |
|                , HEAD DOWN                |
|                                           |
|                                           |
|  7 BASE ROTATE LEFT   9 BASE ROTATE RIGHT |
|         home                page-up       |
|                                           |
|                                           |
|                 8 LIFT UP                 |
|                 up-arrow                  |
|    4 BASE FORWARD         6 BASE BACK     |
|      left-arrow           right-arrow     |
|                2 LIFT DOWN                |
|                down-arrow                 |
|                                           |
|                                           |
|                 w ARM OUT                 |
|   a WRIST FORWARD        d WRIST BACK     |
|                 x ARM IN                  |
|                                           |
|                                           |
|   c PITCH FORWARD        v PITCH BACK     |
|    o ROLL FORWARD         p ROLL BACK     |
|              5 GRIPPER CLOSE              |
|              0 GRIPPER OPEN               |
|                                           |
|   step size:  b BIG, m MEDIUM, s SMALL    |
|                  q QUIT                   |
|                                           |
|-------------------------------------------|
</code></pre>
<p><img alt="" src="../images/dex_wrist_rviz_rs.png" /></p>
<h2 id="appendix-installation-and-configuration">Appendix: Installation and Configuration</h2>
<p>Robots that did not ship with the Dex Wrist installed will require additional hardware and software installation.</p>
<h3 id="production-batch-variation">Production Batch Variation</h3>
<p>Earlier production 'batches' of Stretch will require a hardware upgrade prior to use the Dex Wrist. To check your robot's batch, run:</p>
<pre><code class="language-bash">&gt;&gt;$ stretch_about.py
</code></pre>
<p>, and note the listed Batch Name.</p>
<table>
<thead>
<tr>
<th>Batch Name</th>
<th>Upgrade Wacc Board</th>
<th>Update Baud Rate</th>
</tr>
</thead>
<tbody>
<tr>
<td>Guthrie</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Irma</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Hank</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Joplin</td>
<td>N</td>
<td>Y</td>
</tr>
<tr>
<td>Kendrick or later</td>
<td>N</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>If your robot requires a Wacc Board upgrade please follow the <a href="https://github.com/hello-robot/stretch_factory/tree/master/updates/013_WACC_INSTALL">instructions here</a> with the assistance of Hello Robot support. This must be done before attaching the Dex Wrist to our robot.</p>
<h3 id="attaching-the-dex-wrist">Attaching the Dex Wrist</h3>
<p>The Dex Wrist mounts to the bottom of the <a href="https://docs.hello-robot.com/hardware_user_guide/#wrist-tool-plate">Stretch Wrist Tool Plate</a>  requires</p>
<ul>
<li>8 <a href="https://www.mcmaster.com/90236A104/">M2x6mm Torx FHCS bolts</a> (provided)</li>
<li>4 <a href="https://www.mcmaster.com/92703A448/">M2.5x4mm Torx FHCS bolts</a> (provided)</li>
<li>2 <a href="https://www.mcmaster.com/91290A102/">M2.5x8mm SHCS bolts</a> (provided)</li>
<li>T6 Torx wrench (provided)</li>
<li>T8 Torx wrench (provided)</li>
<li>2mm Hex key (provided)</li>
</ul>
<p>First, remove the standard Stretch Gripper if it is still attached <a href="https://docs.hello-robot.com/hardware_user_guide/#gripper-removal">according to the Hardware User Guide</a>. </p>
<h4 id="mounting-bracket">Mounting Bracket</h4>
<p>Note where the forward direction is on the wrist yaw tool plate. The forward direction is indicated by the  additional alignment hole that is just outside the bolt pattern (shown pointing down in the image)</p>
<p><img alt="" src="../images/dex_wrist_C_rs.png" /></p>
<p>Using the T6 Torx wrench, attach the wrist mount bracket to the bottom of the tool plate using the provided  M2x6mm bolts. </p>
<p><strong>NOTE: ensure that the forward direction of the bracket (also indicated by an alignment hole) matches the forward direction of the tool plate.</strong></p>
<p><img alt="![]" src="../images/dex_wrist_bracket_install_rs.png" /></p>
<p>Now route the Dynamixel cable coming from the Stretch Wrist Yaw through the hollow bore of the wrist yaw joint.</p>
<p>Next, raise the wrist module up vertically into the mounting bracket, then sliding it over horizontally so that the bearing mates onto its post.  </p>
<p><strong>NOTE: During this step ensure the Dynamixel cable from the wrist yaw exits out the back (towards the shoulder)</strong></p>
<p><img alt="![]" src="../images/dex_wrist_roll_install_rs.png" /></p>
<p><img alt="![]" src="../images/dex_wrist_roll_install2_rs.png" /></p>
<p>Now rotate the wrist yaw joint so the wrist pitch servo body is accessible. Attach the pitch servo to the mounting bracket using the 4 M2.5x4mm screws at T8 Torx wrench.</p>
<p><img alt="" src="../images/dex_wrist_pitch_bracket_attach_rs.png" /></p>
<p>Finally, plug route the Dynamixel cable into the wrist pitch servo (pink) and install the cable clip using the M2.5x8mm bolts and the 2mm hex wrench.</p>
<p><img alt="" src="../images/dex_wrist_cable_route_rs.png" /></p>
<h3 id="software-configuration">Software Configuration</h3>
<p>Robots that did not ship with the Dex Wrist pre-installed will require their software to be updated and configured.</p>
<h4 id="upgrade-stretch-body">Upgrade Stretch Body</h4>
<p>Ensure the latest version of Stretch Body and Stretch Factory are installed</p>
<pre><code class="language-bash">&gt;&gt;$ pip2 install hello-robot-stretch-body -U --no-cache-dir
&gt;&gt;$ pip2 install hello-robot-stretch-body-tools -U --no-cache-dir
&gt;&gt;$ pip2 install hello-robot-stretch-factory -U --no-cache-dir
&gt;&gt;$ pip2 install hello-robot-stretch-tool-share -U --no-cache-dir
</code></pre>
<h4 id="update-servo-baud-rates">Update Servo Baud Rates</h4>
<p>If your robot's batch requires a baud rate update:</p>
<pre><code class="language-bash">&gt;&gt;$ RE1_dynamixel_set_baud.py /dev/hello-dynamixel-head 11 115200
---------------------
Checking servo current baud for 57600
----
Identified current baud of 57600. Changing baud to 115200
Success at changing baud

&gt;&gt;$ RE1_dynamixel_set_baud.py /dev/hello-dynamixel-head 12 115200
---------------------
Checking servo current baud for 57600
----
Identified current baud of 57600. Changing baud to 115200
Success at changing baud

&gt;&gt;$ RE1_dynamixel_set_baud.py /dev/hello-dynamixel-wrist 13 115200
---------------------
Checking servo current baud for 57600
----
Identified current baud of 57600. Changing baud to 115200
Success at changing baud
</code></pre>
<h4 id="configure-user-yaml">Configure User YAML</h4>
<p>The Dex Wrist requires a number of updates to the robot user YAML</p>
<p>YAML doesn't allow definition of multiple fields with the same name. Depending on what is already listed in your user YAML you will need to manually merge fields. </p>
<p>Merge the new following additions to you your  <code>~/stretch_user/$HELLO_FLEET_ID/stretch_re1_user_params.yaml</code></p>
<pre><code class="language-yaml">
factory_params: stretch_re1_factory_params.yaml

params:
  - stretch_tool_share.stretch_dex_wrist.params

robot:
  use_collision_manager: 1
  tool: tool_stretch_dex_wrist

tool_none:
  baud: 11520
tool_stretch_gripper:
  baud: 115200

head:
  baud: 115200
wrist_yaw:
  baud: 115200
head_tilt:
  baud: 115200
head_pan:
  baud: 115200

stretch_gripper:
  range_t:
    - 0
    - 6415
  zero_t: 4017
  baud: 115200

lift:
  i_feedforward: 0.75

hello-motor-lift:
  gains:
    i_safety_feedforward: 0.75

</code></pre>
<p>Note: The factory gripper calibration may not provide the full range of motion in some cases. If necessary you can dial in the gripper calibration with the tool <code>./RE1_gripper_calibrate.py</code></p>
<h4 id="configure-for-use-in-ros">Configure for use in ROS</h4>
<p>First pull down the Dex Wrist branch of Stretch ROS, Stretch Tool Share, and copy in the URDF data:</p>
<pre><code class="language-bash">&gt;&gt;$ cd ~/catkin_ws/src/stretch_ros/
&gt;&gt;$ git checkout feature/pluggable_end_effector
&gt;&gt;$ git pull

&gt;&gt;$ cd ~/repos
&gt;&gt;$ git clone https://github.com/hello-robot/stretch_tool_share
&gt;&gt;$ cd stretch_tool_share/tool_share/stretch_dex_wrist/stretch_description
&gt;&gt;$ cp urdf/stretch_dex_wrist.xacro ~/catkin_ws/src/stretch_ros/stretch_description/urdf
&gt;&gt;$ cp meshes/*.STL ~/catkin_ws/src/stretch_ros/stretch_description/meshes
</code></pre>
<p>Now configure <code>stretch_description.xacro</code> to use the Dex Wrist:</p>
<pre><code class="language-bash">&gt;&gt;$ nano ~/catkin_ws/src/stretch_ros/stretch_description/urdf/stretch_description.xacro
</code></pre>
<p>and edit to read,</p>
<pre><code class="language-bash">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;robot xmlns:xacro=&quot;http://www.ros.org/wiki/xacro&quot; name=&quot;stretch_description&quot;&gt;
  &lt;xacro:include filename=&quot;stretch_dex_wrist.xacro&quot; /&gt;
  &lt;xacro:include filename=&quot;stretch_main.xacro&quot; /&gt;
  &lt;xacro:include filename=&quot;stretch_aruco.xacro&quot; /&gt;
  &lt;xacro:include filename=&quot;stretch_d435i.xacro&quot; /&gt;
  &lt;xacro:include filename=&quot;stretch_laser_range_finder.xacro&quot; /&gt;
  &lt;xacro:include filename=&quot;stretch_respeaker.xacro&quot; /&gt;
&lt;/robot&gt;
</code></pre>
<p>Update your URDF and then export the URDF for Stretch Body to use  (you may need to Ctrl-C to exit <code>rosrun</code>)</p>
<pre><code class="language-bash">&gt;&gt;$ rosrun stretch_calibration update_urdf_after_xacro_change.sh
&gt;&gt;$ cd ~/catkin_ws/src/stretch_ros/stretch_description/urdf
&gt;&gt;$ ./export_urdf.sh
</code></pre>
<h2 id="_1"></h2>
<p>.<div align="center"> All materials are Copyright 2020 by Hello Robot Inc. The Stretch RE1 robot has patents pending</div></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 Hello Robot Inc
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/HelloRobotInc" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.53c85856.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.716f8af4.min.js"></script>
      
    
  </body>
</html>