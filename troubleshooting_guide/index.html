


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Hello Robot User Documentation">
      
      
        <link rel="canonical" href="https://docs.hello-robot.com/troubleshooting_guide/">
      
      
      <link rel="shortcut icon" href="../images/hello_robot_favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.3">
    
    
      
        <title>Stretch RE1: Troubleshooting Guide - Hello Robot  Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6e35a1a6.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="hello-robot" data-md-color-accent="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stretch-re1-troubleshooting-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://docs.hello-robot.com" title="Hello Robot  Documentation" class="md-header-nav__button md-logo" aria-label="Hello Robot  Documentation">
      
  <img src="../images/hello_robot_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Hello Robot  Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Stretch RE1: Troubleshooting Guide
            
          </span>
        </div>
      
    </div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.hello-robot.com" title="Hello Robot  Documentation" class="md-nav__button md-logo" aria-label="Hello Robot  Documentation">
      
  <img src="../images/hello_robot_logo.png" alt="logo">

    </a>
    Hello Robot  Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Resources
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Resources" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://forum.hello-robot.com/" title="Stretch Forum" class="md-nav__link">
      Stretch Forum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/hello-robot" title="Stretch GitHub" class="md-nav__link">
      Stretch GitHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://youtube.com/c/HelloRobot" title="Stretch Videos" class="md-nav__link">
      Stretch Videos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#xbox-teleoperation-is-not-working" class="md-nav__link">
    XBox teleoperation is not working
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#battery-is-not-staying-charged" class="md-nav__link">
    Battery is not staying charged
  </a>
  
    <nav class="md-nav" aria-label="Battery is not staying charged">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-modes" class="md-nav__link">
    Changing Modes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normal-operation" class="md-nav__link">
    Normal Operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovering-drained-batteries" class="md-nav__link">
    Recovering Drained Batteries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#repairing-damaged-batteries" class="md-nav__link">
    Repairing Damaged Batteries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stretch-doesnt-respond-to-commands" class="md-nav__link">
    Stretch doesn't respond to commands
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="stretch-re1-troubleshooting-guide">Stretch RE1: Troubleshooting Guide</h1>
<p>This guide covers common issues and ways to resolve them. Please check the <a href="forum.hello-robot.com">Hello Robot Forum</a> for additional topics not covered here.</p>
<h2 id="xbox-teleoperation-is-not-working">XBox teleoperation is not working</h2>
<p>The provided Easy SMX wireless controller can accidentally be placed in the wrong mode. The mode is indicated by the round illuminated ring (shown as Connect below). The top 2 LEDs only should be illuminated. If a different LED pattern is shown then the button mapping expected by <a href="https://github.com/hello-robot/stretch_body/blob/master/tools/bin/stretch_xbox_controller_teleop.py0">stretch_xbox_controller_teleop.py</a> will be incorrect.</p>
<p>To set the controller into the correct mode:</p>
<ul>
<li>Hold the center button down for 5s. It will switch modes. Release.</li>
<li>Repeat until top half of ring (upper two lights) are illuminated.</li>
</ul>
<p>In addition, check that the provided USB dongle is plugged into the robot USB port in its trunk.</p>
<p>. </p>
<p><img alt="" src="../images/xbox.png" /></p>
<h2 id="battery-is-not-staying-charged">Battery is not staying charged</h2>
<p>When fully charged, Stretch should have a battery life of about 2 hours while running a heavy CPU load. The battery may not stay charged if:</p>
<ul>
<li>The battery gets drained to a level beyond which the charger can recover from</li>
<li>The battery charger is set to the wrong charge mode</li>
</ul>
<p>Stretch utilizes <a href="https://www.power-sonic.com/product/ps-1290/">12V AGM SLA batteries</a>. It currently ships with a NOCO Genius 10 charger. Earlier 'Guthrie' versions of Stretch use the NOCO G7200. These two chargers are functionally very similar.</p>
<p>Please review the battery charger user manuals prior to following the guidance below:</p>
<ul>
<li><a href="https://no.co/media/nocodownloads/format/g/e/genius10na_user_guide_1.pdf">Genius10</a></li>
<li><a href="https://no.co/media/nocodownloads/format/g/7/g7200_manual_english_1.pdf">G7200</a></li>
</ul>
<p>The charger supports a number of charging modes. The relevant ones for Stretch are:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Function</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>12V AGM</td>
<td>Normal charging mode for Stretch. Default mode as shipped with robot.</td>
<td></td>
</tr>
<tr>
<td>12V REPAIR</td>
<td>Repairs damaged and deep discharged batteries.</td>
<td></td>
</tr>
<tr>
<td>12V SUPPLY</td>
<td>Acts as a 12V power supply, allowing the robot to recover from deep discharge and to also be powered without discharging the batteries.</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="changing-modes">Changing Modes</h3>
<p>Pressing the charger Mode button will toggle it through its modes. The 'advanced' charging modes are only accessible by first holding down the Mode button for 3-5 seconds.</p>
<p>The charger will remember its charge mode when unpowered. </p>
<p><strong>Note: When changing charger modes, first disconnect the charger from the robot.</strong></p>
<h3 id="normal-operation">Normal Operation</h3>
<p>During normal use the charger should be in 12V AGM Mode. As shown below, the 12V AGM indicator will be illuminated. When the battery is fully charged, the green 100% indicator will be on.</p>
<p>The charger is in 12V AGM mode when shipped with Stretch. If your battery is not charging, first check that it wasn't accidentally placed in another mode.</p>
<p><img alt="" src="../images/noco10_agm_rs.png" /></p>
<p><img alt="" src="../images/g7200_agm.png" /></p>
<h3 id="recovering-drained-batteries">Recovering Drained Batteries</h3>
<p>If Stretch is left powered up without the charger attached it is possible to fully discharge the batteries. In this case, the 12V AGM mode may not be able to recover the charge. In this case:</p>
<ul>
<li>Attach the charger</li>
<li>Press and hold the Mode button for 3 seconds, allowing the charger to access the Advanced modes</li>
<li>Push the Mode button a few times until it is in 12V Supply mode</li>
<li>Allow robot to charge for at least 1 hour</li>
<li>Place the charger back in 12V AGM mode and allow batteries to charger to 100%</li>
<li>Boot the robot up with the charger unattached. </li>
<li>Check the battery voltage by running <code>stretch_robot_battery_check.py</code>. The reported voltage should be &gt;=12V </li>
</ul>
<h3 id="repairing-damaged-batteries">Repairing Damaged Batteries</h3>
<p>It is possible for Stretch's batteries to become damaged due to repeated deep discharge. If the robot has continued issues maintaining a charge we recommend attempting the following procedure: </p>
<ol>
<li>Power off the robot and plug in the charger</li>
<li>Press and hold the Mode button for 3 seconds, allowing the charger to access the Advanced modes</li>
<li>Push the Mode button a few times until it is in 12V REPAIR mode</li>
<li>Allow robot to charge for at least 4 hours</li>
<li>Place the charger back in 12V AGM mode and allow batteries to charger to 100%</li>
<li>Boot the robot up with the charger unattached. </li>
<li>Check the battery voltage by running <code>stretch_robot_battery_check.py</code>. The reported voltage should be &gt;=12V </li>
</ol>
<h2 id="stretch-doesnt-respond-to-commands">Stretch doesn't respond to commands</h2>
<p>If more than one <a href="https://github.com/hello-robot/stretch_body/blob/master/body/stretch_body/robot.py">Robot</a> i instance is instantiated at a time, Stretch Body will report communication errors and will not always execute motion commands as expected. This is because  <a href="https://github.com/hello-robot/stretch_body/blob/master/body/stretch_body/robot.py">Robot</a>  manages communications with the robot hardware and it doesn't support multiple writes to the USB devices.</p>
<p>These errors can appear as</p>
<pre><code>Transport RX Error on RPC_ACK_SEND_BLOCK_MORE False 0 102
---- Debug Exception
--------------- New RPC -------------------------
Framer sent RPC_START_NEW_RPC
...
</code></pre>

<p>or as</p>
<pre><code>IOError(None): None
...
</code></pre>

<p>As shipped, Stretch launches  <a href="https://github.com/hello-robot/stretch_body/blob/master/tools/bin/stretch_xbox_controller_teleop.py0">stretch_xbox_controller_teleop.py</a> upon boot. It is necessary to turn off this automatic launch feature, otherwise your own Robot instance will conflict with this script.</p>
<p>To turn it off, search for 'Startup' from Ubuntu Activities. Uncheck the box for 'hello_robot_xbox_teleop' </p>
<p><img alt="" src="../images/xbox_off_rs.png" /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Hello Robot Inc
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/HelloRobotInc" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../assets/javascripts/bundle.a45f732b.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>